#!/bin/bash

# Default options for git commands

if [ -z PS1 ] ; then
    exec alternative-run $0 "$@"
fi

source bash-helpers

if [[ $1 == "status" ]] ; then
    shift
    exec alternative-run $0 status -uall "${@:2}" "$@"
fi

if [[ $1 == "log" ]] ; then

    shift

    files="$@"

    if [[ ! "$files" ]] ; then
        files="."
    fi

    exec alternative-run $0 log --oneline --follow --decorate --graph "$files"
fi

if [[ $1 == "branch"  && ! "$2" ]] ; then
    exec alternative-run $0 branch --list -vva
fi

if [[ $1 == "commit" ]] ; then
    alternative-run $0 config --global user.name 2>/dev/null && DIE "Global git user.name is set"
    alternative-run $0 config --global user.email 2>/dev/null && DIE "Global git user.email is set"
fi

exec alternative-run $0 "$@"

